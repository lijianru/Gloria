import{u as e,a as t,c as a,b as l,d as n,r as s,I as o,B as r,R as i,T as c,D as m,f as d,e as u,p,s as f,g as E,h as b,i as D,F as v,j as w,P as y,k as x,l as C,m as N,n as I,o as g,q as h}from"./vendor.63d32827.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const l=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const o=new URL(e,l);if(self[t].moduleMap[o])return a(self[t].moduleMap[o]);const r=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(r),onerror(){s(new Error(`Failed to import: ${e}`)),n(i)},onload(){a(self[t].moduleMap[o]),n(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");const L=t,k=[{label:"一天",value:864e5},{label:"三天",value:2592e5},{label:"一周",value:6048e5},{label:"两周",value:12096e5},{label:"三周",value:18144e5},{label:"四周",value:24192e5}],M=a({name:"info",initialState:{coolDownTime:k[2].value,infoList:[]},reducers:{coolDownTimeChange:(e,t)=>{e.coolDownTime=t.payload},addNewInfo:(e,t)=>{const a=t.payload.trim(),s=e.infoList.find((({id:e})=>e===a)),o=(new Date).getTime();if(s)if(o-s.time>e.coolDownTime)e.infoList=[...e.infoList.filter((({id:e})=>e!==a))],e.infoList.unshift({id:s.id,count:s.count+1,time:o}),l.success("恭喜这个B！🎉🎉🎉🎉🎉🎉");else{const e=n(o,s.time)+1;l.error(`此账号还在CD中，${e}天内登陆过此账号!😭😭😭😭😭😭😭`)}else e.infoList.unshift({id:a,count:1,time:o}),l.success("恭喜这个B！🎉🎉🎉🎉🎉🎉")},deleteInfo:(e,t)=>{e.infoList=[...e.infoList.filter((({id:e})=>e!==t.payload))],l.success("删除成功！")}}}),{coolDownTimeChange:T,addNewInfo:B,deleteInfo:R}=M.actions;function j(){const t=e(),a=L((e=>e.info.infoList)),l=L((e=>e.info.coolDownTime)),[n,u]=s.useState(),[p,f]=s.useState(!1),E=[{title:"ID",dataIndex:"id",render:(e,t,a)=>s.createElement("span",null,s.createElement("b",null,e),0===a&&s.createElement("span",{className:"text-purple-600 text-opacity-60 ml-1 transition-colors"},"new!"))},{title:"次数",dataIndex:"count",render:e=>s.createElement("b",null,e)},{title:"时间",dataIndex:"time",render:e=>s.createElement("b",null,d(e,"yyyy/MM/dd HH:mm:ss"))},{title:"",dataIndex:"id",render:e=>s.createElement(r,{onClick:()=>(e=>{t(R(e))})(e)},"删除")}];return s.createElement("div",{className:"container mx-auto py-10"},s.createElement("p",{className:"text-2xl pb-4"},"格洛丽亚单人三排ID记录工具",s.createElement("a",{className:"text-blue text-xl",onClick:()=>{f(!0)}},"[使用说明]")),s.createElement("div",{className:"container flex flex-row"},s.createElement(o,{placeholder:"请输入ID",size:"large",value:n,onChange:e=>{u(e.target.value)}}),s.createElement(r,{size:"large",className:"ml-4",type:"primary",onClick:()=>{n&&t(B(n)),u("")},disabled:!n},"添加")),s.createElement("div",{className:"container flex flex-row py-6"},s.createElement("h3",{className:"mr-2"},"CD:"),s.createElement(i.Group,{onChange:e=>{t(T(e.target.value))},value:l,defaultValue:l},k.map((({label:e,value:t})=>s.createElement(i,{key:t,value:t},e))))),s.createElement(c,{rowClassName:(e,t)=>0===t?"bg-purple-600 bg-opacity-10":"",columns:E,dataSource:a,rowKey:({id:e})=>e,className:"py-10"}),s.createElement(m,{title:"使用说明",onClose:()=>{f(!1)},maskClosable:!0,width:500,visible:p},s.createElement("h2",null,"使用方法："),s.createElement("ul",null,s.createElement("li",null,"1. 选择CD（默认七天）"),s.createElement("li",null,"2. 在输入框填入ID（保证ID正确，别粘日期😭）"),s.createElement("li",null,"3. 点击添加按钮（无需搜索）"),s.createElement("li",{className:"pl-2"},'3.1. 没打过会直接添加账号并提示"',s.createElement("i",{className:"font-bold"},"恭喜这个B"),'"；'),s.createElement("li",{className:"pl-2"},'3.2. 打过但CD结束则更新记录并依然提示"',s.createElement("i",{className:"font-bold"},"恭喜这个B"),'"；'),s.createElement("li",{className:"pl-2"},'3.3. 打过但还在CD中不会更新记录但会提示"',s.createElement("i",{className:"font-bold"},"账号还在CD中，几天内登录过该账号"),'"。')),s.createElement("p",null,"注：CD根据添加新ID或者成功更新ID的时间计算！"),s.createElement("p",null,"重要提示：由于我考虑到ID的隐私性且未了避嫌且自己没有云服务所以我采用了GitHub pages 加本地存储的静态页面方式实现。",s.createElement("i",{className:"font-bold text-xl"},"所以切记不要清空浏览器缓存"),"。")))}const U=E({reducer:p({key:"root",version:1,storage:f},u({info:M.reducer})),middleware:e=>e({serializableCheck:{ignoredActions:[v,w,y,x,C,N]}})}),S=b(U);D(U.dispatch),I.render(s.createElement(s.StrictMode,null,s.createElement(g,{store:U},s.createElement(h,{persistor:S},s.createElement(j,null)))),document.getElementById("root"));
